# FSD The 4th task. JQuery Custom plugin

### выполнено для FSD Frontend 4 step education

## Пример работы слайдера на демонстрационной [странице](https://hahahayabanan.github.io/FSD-4th-task/)
---

## Развёртывание
Клонировать
>git clone https://github.com/Hahahayabanan/FSD-4th-task.git

Установка
>npm i

Запустить webpack server
>npm run start

Запустить karma тесты
>npm run test

Запустить production build
>npm run build

Запустить Eslint по файлам проекта
> npm run eslint

---
# Архитектура проекта

Имя класса      | Описание
----------------|----------------------
MODEL           | 
ISliderSettings | Интерфейс, содержит свойства настроек слайдера.
Model           | Реализует бизнес логику слайдера, хранит настройки, методы расчета текущего значения (границ интервала) с учетом минимального, максимального значений и шага. Не знает о существовании `view`. Диспатчит события при изменении параметров.
VIEW            | 
MainView        | Реализует интерфейс отображения и обновления слайдера в браузере. Является пассивным.
PathView        | Хранит и обрабатывает события ползунков. Отвечает за отображение и обновление слайдера. Диспатчит события перемещения одного из ползунков.
PointerView     | Реализует сущность бегунка, отслеживает положение мыши, диспатчит событие при изменении положения ползунка пользователем. Хранит TipView
TipView         | Реализует сущность элемента, который привязывается к бегунку и отображает значение.
PRESENTER       | 
Presenter       | Связующее звено между моделью и отображением. Подписан на их события и обновляет состояния.
Дополнительно   |
EventObserver   | Реализует паттерн 'наблюдатель'.
ErrorMessage    | Реализует объект вывода сообщений в консоль браузера о неверных передаваемых значениях.




## UML диаграмма

![Diagram](https://github.com/Hahahayabanan/FSD-4th-task/blob/master/uml.png)

## Пример инициализации

```JavaScript
$( '.selector' ).HYBSlider({
      min: 200, 
      max: 500, 
      step: 100,
      from: 300,
      hasTip: true,
})
```
## Пример инициализации с помощью data-атрибутов
```html
<div class='slider' data-min=99 data-max=199 data-step=1 data-is-range='true' data-is-vertical='true' data-from=105 data-to=125 data-has-tip='true' data-has-line='true'></div>

<script>
  $(() => {
    $( '.slider' ).HYBSlider()
  })

  $(() => {
    $( '.slider' ).HYBSlider({ min: 20, max: 150, step: 30, isRange: true, from: 25, to: 50 })
  })
</script>
```

При инициализации data-атрибуты имеют наименьший приоритет, а в остальных случаях пассивны.

# API

## Методы

Принимает параметры и позволяет обновить слайдер
```JavaScript
$( '.slider' ).HYBSlider('update', { min: 20 })
```
Возвращает jQuery объект, содержащий текущие параметры слайдера
```JavaScript
const $parameters = $( '.slider' ).HYBSlider('getSettings');
const parametersForFirstSliderMatch = $parameters.get(0); //массив слайдеров с данным тегом
const { min, max, step } = parametersForFirstSlider;
```

Коллбэк, вызывающийся при изменении параметров слайдера
```JavaScript
$( '.slider' ).HYBSlider('callbackOnUpdate', (options: ISliderSettings) => {
  /*
    какие-либо действия
  */
});


```

## max
>**Type:** ***number***

>**Default:** ***100***

Максимальное значение слайдера



## min
>**Type:** ***number***

>**Default:** ***0***

Минимальное значение слайдера



## isVertical
>**Type:** ***string***

>**Default:** ***false***

Определяет положение слайдера горизонтально, при значении `false` (min слева, max справа) или вертикально, при `true` (min сверху, max снизу).



## isRange
>**Type:** ***boolean***

>**Default:** ***false***

Определяет количество бегунков слайдера. При значении ```false``` бегунок один, при значении ```true``` бегунков два.



## step
>**Type:** ***number***

>**Default:** ***1***

Определяет размер каждого интервала или количество шагов слайдера между минимальным и максимальным значениями. Должен быть меньше разности `max - min`.



## from
>**Type:** ***number***

>**Default:** ***0***

Определяет текущее значение ползунка и его положение. При ```isRange: true``` определяет значение начала интервала.


## to
>**Type:** ***number***

>**Default:** ***null***

Определяет текущее значение второго ползунка и его положение при ```isRange: true```. Если значение не будет указано, определяется как максимальное.



## hasTip
>**Type:** ***boolean***

>**Default:** ***false***

Определяет будет ли отображаться значение над бегунком. При значении ```true``` над бегунком отображается значение.



## hasLine
>**Type:** ***boolean***

>**Default:** ***true***

Определяет будет отображаться линия до ползунка, либо между двумя ползунками в режиме ```isRange: true```. При значении ```true``` линия отображается.



## Событие changePointer
>**Type:** ***Event***

Срабатывает при перемещении ползунка.

Свойство ```event.detail``` содержит текущее положение ползунка, который переместился.

#### Пример использования в коде:
```JavaScript
$( '.selector' ).on( 'changePointer', (event) => {
  /*
    какие-либо действия
  */
});
```

---
